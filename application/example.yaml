---
# logging configuration
logging:
    name: "main"
    # log to the console?
    console: true
    # log to a rotating file?
    rotating:
        path: "adapter.log"
        max-size: 1048576
        max-files: 3

# a sequence of adapters with the first entry always being the unique "type"
adapters:
    #  DNP3 adapter
    - id: "dnp3"
      enabled:  true
      log-name: "dnp3"

      # default to std::thread::hardware_concurrency() if not specified
      thread-pool-size:  1

      # a sequence of master instances
      masters:
          - logger: "master1"
            channel:
                adapter: "0.0.0.0"
                remote-ip: "127.0.0.1"
                port: 20000
            link-layer:
                master-address: 1
                outstation-address: 10
            app-layer:
                integrity-poll-ms: 5000
            resource-reading:
                mmxu:
                    hz.mag:             {index:  0,  scale: 1.0}

                    ppv.phsab.cval.mag: {index: -1,  scale: 1.0}
                    ppv.phsbc.cval.mag: {index: -1,  scale: 1.0}
                    ppv.phsca.cval.mag: {index: -1,  scale: 1.0}

                    phv.phsa.cval.mag:  {index: -1,  scale: 1.0}
                    phv.phsa.cval.ang:  {index: -1,  scale: 1.0}
                    phv.phsb.cval.mag:  {index: -1,  scale: 1.0}
                    phv.phsb.cval.ang:  {index: -1,  scale: 1.0}
                    phv.phsc.cval.mag:  {index: -1,  scale: 1.0}
                    phv.phsc.cval.ang:  {index: -1,  scale: 1.0}

                    phv.neut.cval.mag:  {index: -1,  scale: 1.0}
                    phv.net.cval.mag:   {index: -1,  scale: 1.0}

                    a.phsa.cval.mag:    {index: -1,  scale: 1.0}
                    a.phsb.cval.mag:    {index: -1,  scale: 1.0}
                    a.phsc.cval.mag:    {index: -1,  scale: 1.0}

                    a.neut.cval.mag:    {index: -1,  scale: 1.0}
                    a.net.cval.mag:     {index: -1,  scale: 1.0}

                    # TODO remainder of MMXU

                mmtr:

                   # TODO - map MMTR

     #  adapter that just prints published messages to the console
    - id: "msg-logger"
      enabled:  true
      log-name: "published"
      profiles:
          resource-reading  : true

     #  twinoaks DDS adapter

    - id: "twinoaks-dds"
      enabled: true
      log-name: "dds"
      domain_id: 0
      # subscribe to and publish these profiles via DDS
      publish:
          resource-reading: true
