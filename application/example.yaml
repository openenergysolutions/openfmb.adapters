---
# logging configuration
logging:
    name: "main"
    # log to the console?
    console: true
    # log to a rotating file?
    rotating:
        path: "adapter.log"
        max-size: 1048576
        max-files: 3

# a sequence of adapters with the first entry always being the unique "type"
adapters:
    #  DNP3 adapter
    - id: "dnp3"
      enabled:  true
      log-name: "dnp3"

      # default to std::thread::hardware_concurrency() if not specified
      thread-pool-size:  1

      # a sequence of master instances
      masters:
          - logger: "master1"
          
            channel:
                adapter: "0.0.0.0"
                remote-ip: "127.0.0.1"
                port: 20000
            protocol:
                master-address: 1
                outstation-address: 10
                integrity-poll-ms: 5000

            ResourceReadingProfile:
                    # analogue values
                    resourceReadingValue.readingMMXU.a.net.cVal.ang:      {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.net.cVal.mag:      {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.neut.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.neut.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsA.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsA.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsB.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsB.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsC.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.a.phsC.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.hz.mag:              {index:  0, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsAB.cVal.ang:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsAB.cVal.mag:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsBC.cVal.ang:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsBC.cVal.mag:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsCA.cVal.ang:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.pPV.phsCA.cVal.mag:  {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.net.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.net.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.neut.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.neut.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsA.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsA.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsB.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsB.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsC.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.phV.phsC.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.net.cVal.ang:      {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.net.cVal.mag:      {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.neut.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.neut.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsA.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsA.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsB.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsB.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsC.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.v.phsC.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.net.cVal.ang:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.net.cVal.mag:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.neut.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.neut.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsA.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsA.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsB.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsB.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsC.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vA.phsC.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.net.cVal.ang:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.net.cVal.mag:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.neut.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.neut.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsA.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsA.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsB.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsB.cVal.mag:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsC.cVal.ang:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMXU.vAr.phsC.cVal.mag:   {index:  -1, scale: 1.0}
                    # BCR values
                    resourceReadingValue.readingMMTR.dmdVArh:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.dmdWh:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.supVArh:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.supWh:     {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.totVAh:    {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.totVArh:   {index:  -1, scale: 1.0}
                    resourceReadingValue.readingMMTR.totWh:     {index:  -1, scale: 1.0}

     #  adapter that just prints published messages to the console
    - id: "msg-logger"
      enabled:  false
      log-name: "published"
      profiles:
          ResourceReadingProfile  : true

     #  twinoaks DDS adapter

    - id: "twinoaks-dds"
      enabled: true
      log-name: "dds"
      domain_id: 0
      # subscribe to and publish these profiles via DDS
      publish:
          ResourceReadingProfile: true

    - id: "nats"
      enabled: true
      log-name: "nats"
      max_queued_messages: 100
      connect_url: "nats://localhost:4222"
      connect_retry_seconds: 5
      publish:
          ResourceReadingProfile: true
